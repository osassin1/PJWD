<div *ngIf="!getSignup()">
    <div class="col-md-6 offset-md-3 mt-5">
        <div class="card" style="width: 24rem;">
            <h4 class="card-header" style="background-color:lightskyblue">FamilyShoppingList</h4>
            <div class="card-body">
                <form [formGroup]="loginForm">
                    <div class="mb-3">
                        <label class="form-label">Username</label>
                        <input type="text" formControlName="username" class="form-control" [ngClass]="{ 'is-invalid': submittedLogin && f['username'].errors }" />
                        <div *ngIf="submittedLogin && f['username'].errors" class="invalid-feedback">
                            <div *ngIf="f['username'].errors['required']">username is required</div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password*" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submittedLogin && f['password'].errors }" />
                        <div *ngIf="submittedLogin && f['password'].errors" class="invalid-feedback">
                            <div *ngIf="f['password'].errors['required']">password is required</div>
                        </div>
                    </div>
                    <div class="d-flex flex-row justify-content-between itemdisplay">
                        <button [disabled]="loading" class="btn btn-primary" (click)="onLogin()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
                            Login
                        </button>
                        <button class="btn btn-secondary" (click)="onSignup()">Signup</button>
                    </div>
                    <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>
                </form>
            </div>
        </div>    
    </div>
</div>    
<div *ngIf="getSignup()">
	<div class="col-md-6 offset-md-3 mt-5">
		<div class="card" style="width: 24rem;">
			<h4 class="card-header" style="background-color:lightskyblue">FamilyShoppingList</h4>
			<div class="card-body">
				<form [formGroup]="signupForm">
					<div class="mb-3">
						<label class="form-label">Username</label>
						<input type="text" formControlName="username" class="form-control"
							[ngClass]="{ 'is-invalid': submittedSignup && fs['username'].errors }" />
						<div *ngIf="submittedSignup && fs['username'].errors" class="invalid-feedback">
							<div *ngIf="fs['username'].errors['required']">username is required</div>
							<div *ngIf="fs['username'].errors['minlength']">username must be at least 6 characters long
							</div>
							<div *ngIf="fs['username'].errors['maxlength']">username must be at most 20 characters long
							</div>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">Password</label>
						<input type="password" formControlName="password" class="form-control"
							[ngClass]="{ 'is-invalid': submittedSignup && fs['password'].errors }" />
						<div *ngIf="submittedSignup && fs['password'].errors" class="invalid-feedback">
							<div *ngIf="fs['password'].errors['required']">password is required</div>
							<div *ngIf="fs['password'].errors['minlength']">password must be at least 6 characters long
							</div>
							<div *ngIf="fs['password'].errors['maxlength']">password must be at most 20 characters long
							</div>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">First Name</label>
						<input type="text" formControlName="firstName" class="form-control"
							[ngClass]="{ 'is-invalid': submittedSignup && fs['firstName'].errors }" />
						<div *ngIf="submittedSignup && fs['firstName'].errors" class="invalid-feedback">
							<div *ngIf="fs['firstName'].errors['required']">first name is required</div>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">Last Name</label>
						<input type="text" formControlName="lastName" class="form-control"
							[ngClass]="{ 'is-invalid': submittedSignup && fs['lastName'].errors }" />
						<div *ngIf="submittedSignup && fs['lastName'].errors" class="invalid-feedback">
							<div *ngIf="fs['lastName'].errors['required']">last name is required</div>
						</div>

					</div>
					<div>
						<label for="signupForm">Select color</label>
						<ng-select [items]="colorsToSelectFrom" bindLabel="name" bindValue="name" placeholder="Select color"
							labelForId="colorsToSelectFrom" [virtualScroll]="true" formControlName="color_fm"
							[ngStyle]="{ 'color': 'name' }" [ngClass]="{ 'is-invalid': submittedSignup && fs['color_fm'].errors}">
							<ng-template ng-label-tmp let-item="item">
								<span class="d-inline-block rounded-circle p-2" [ngStyle]="{ 'background-color': item.name }"></span>
								<span class="label-text" [ngStyle]="{ 'color': item.name }">{{item.name}}</span>
							</ng-template>
							<ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
								<span class="d-inline-block rounded-circle p-2" [ngStyle]="{ 'background-color': item.name }"></span>
								<span class="label-text" [ngStyle]="{ 'color': item.name }"
									[ngOptionHighlight]="search">{{item.name}}</span>
							</ng-template>
						</ng-select>
						<div *ngIf="submittedSignup && fs['color_fm'].errors" class="invalid-feedback">
							<div *ngIf="fs['color_fm'].errors['required']">color is required</div>
						</div>
						<br>
						<div class="d-flex flex-row justify-content-between itemdisplay">
							<button class="btn btn-primary" type="button" (click)="onSubmitSignup()"> Signup</button>
						</div>
						<div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>
					</div>
					</form>
					</div>
		</div>
	</div>
</div>