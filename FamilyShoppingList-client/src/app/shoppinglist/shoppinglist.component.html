<div class="container-sm bg-light">
    <app-navigation></app-navigation>
</div>

<div class="container-sm bg-light">
    <div class="row">
        <div class="col-md-5">

<div class="py-1">
    <form [formGroup]="selectShoppingListForm">
        <!-- <label for="selectShoppingListForm">List [{{f['shopping_list_form_selected']}}]</label> -->
        <ng-select [items]="shoppingToSelectFrom"  placeholder="Select Shopping List"
        labelForId="shoppingToSelectFrom" formControlName="shopping_list_form" [tabIndex]=0
        (change)="selectedShoppingList" (ngModelChange)="onSelectChange()">
        <ng-template ng-label-tmp let-item="item">
            <span class="label-text">{{item.shopping_date}} {{item['shopping_list_to_inventory.inventory_to_store.name']}}</span>
            
        </ng-template>
        <ng-template ng-option-tmp let-item="item" let-index="index">
            <span class="label-text">{{item.shopping_date}} {{item['shopping_list_to_inventory.inventory_to_store.name']}}</span>
           
        </ng-template>
    </ng-select>
    </form>
</div>


<div ngbAccordion [closeOthers]="true" class="accordian-button category-accordion">
	@for (item of listCategories; track item) {
		<div ngbAccordionItem [collapsed]="item['list_category_id'] !== 1" >
			<h2 ngbAccordionHeader>
				<button ngbAccordionButton class="d-flex category-item-display">
          <div class="p-1 flex-grow-1">{{ item['name'] }}</div>
          <div class="p-1">{{item['no_of_items']}}</div>
          <!-- <div class="p-1"><img class="componentparts" src="https://upload.wikimedia.org/wikipedia/commons/7/76/Intel_Celeron_1.7GHz_CPU.jpg?20110519091349"></div>  -->
        </button>
			</h2>
			<div ngbAccordionCollapse>
				<div ngbAccordionBody>
					<ng-template>
						Inventory Items go here: {{shoppingListAll.get(item.list_category_id)}}
            {{shoppingListAll.get(item.list_category_id)?.length}}
            @for (inventoryItem of shoppingListAll.get(item.list_category_id); track inventoryItem) {
                $total_quantity 
                <p>{{inventoryItem.shopping_list_to_family_member.color_id}}</p>
            }
            <!-- {{getShoppingListByCategory(getshoppingDate(), getstoreId() ,item['list_category_id'])}} -->
					</ng-template>
				</div>
			</div>
		</div>
	}
</div>



</div>
</div>